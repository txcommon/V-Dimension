<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ•°æ®ä¸­å¿ƒ - ä¹èŠ±è”ç›Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: #0a0520;
            color: #fff;
            overflow-x: hidden;
        }

        /* ğŸ¨ é¦–é¡µå®Œå…¨ä¸€è‡´çš„èƒŒæ™¯ */
        .bg-gradient {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #0a0520 0%, #1a0b3d 50%, #2d1055 100%);
            z-index: -2;
        }

        .bg-stars {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,0.3), transparent),
                radial-gradient(2px 2px at 60% 70%, rgba(168,85,247,0.4), transparent),
                radial-gradient(1px 1px at 50% 50%, rgba(255,255,255,0.2), transparent),
                radial-gradient(1px 1px at 80% 10%, rgba(217,70,239,0.3), transparent),
                radial-gradient(2px 2px at 90% 60%, rgba(139,92,246,0.2), transparent);
            background-size: 200% 200%;
            animation: twinkle 8s ease-in-out infinite;
            z-index: -1;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* ========== é¡¶éƒ¨å¯¼èˆªæ  ========== */
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 20px;
            background: rgba(26, 11, 61, 0.6);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(168, 85, 247, 0.2);
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .back-btn {
            width: 36px;
            height: 36px;
            border-radius: 12px;
            background: rgba(168, 85, 247, 0.15);
            border: 1px solid rgba(168, 85, 247, 0.3);
            color: #a855f7;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .back-btn:active {
            transform: scale(0.95);
        }

        .page-title {
            font-size: 18px;
            font-weight: 700;
            background: linear-gradient(135deg, #fb923c 0%, #f59e0b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .refresh-btn {
            padding: 8px 16px;
            background: rgba(168, 85, 247, 0.15);
            border: 1px solid rgba(168, 85, 247, 0.3);
            border-radius: 12px;
            color: #a855f7;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .refresh-btn:active {
            transform: scale(0.95);
        }

        .refresh-icon.spinning {
            animation: spin 0.5s linear;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* ========== ä¸»å®¹å™¨ ========== */
        .container {
            padding: 20px;
            padding-bottom: 100px;
        }

        /* ========== å¡ç‰‡æ ·å¼ï¼ˆé¦–é¡µå®Œå…¨ä¸€è‡´ï¼‰ ========== */
        .data-card {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.15) 0%, rgba(217, 70, 239, 0.15) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(168, 85, 247, 0.3);
            border-radius: 24px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 
                0 10px 40px rgba(168, 85, 247, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .data-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(168, 85, 247, 0.1) 0%, transparent 70%);
            animation: pulse 4s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.3; }
        }

        .card-content {
            position: relative;
            z-index: 1;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 18px;
        }

        .section-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.3) 0%, rgba(217, 70, 239, 0.3) 100%);
            border: 1px solid rgba(168, 85, 247, 0.5);
        }

        /* ========== æ•°æ®è¡Œæ ·å¼ ========== */
        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .stat-row:last-child {
            border-bottom: none;
        }

        .stat-label {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.6);
            font-weight: 500;
        }

        .stat-value {
            font-size: 15px;
            font-weight: 700;
            color: #fff;
        }

        /* æ•°å­—æ•´æ•°éƒ¨åˆ† */
        .num-integer {
            font-weight: 700;
        }

        /* æ•°å­—å°æ•°éƒ¨åˆ† */
        .num-decimal {
            font-size: 13px;
            font-weight: 400;
            opacity: 0.9;
        }

        .stat-orange {
            background: linear-gradient(135deg, #fb923c 0%, #f59e0b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* ä¿®å¤ï¼šæ©™è‰²æ¸å˜ä¸­çš„å°æ•°éƒ¨åˆ† */
        .stat-orange .num-decimal {
            background: linear-gradient(135deg, #fb923c 0%, #f59e0b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            opacity: 0.8; /* ç¨å¾®é™ä½é€æ˜åº¦ä»¥ç¤ºåŒºåˆ† */
        }

        .stat-purple {
            color: #a855f7;
        }

        /* ä¿®å¤ï¼šç´«è‰²ä¸­çš„å°æ•°éƒ¨åˆ† */
        .stat-purple .num-decimal {
            color: #a855f7;
            opacity: 0.8;
        }

        .stat-green {
            color: #10b981;
        }

        .divider {
            height: 1px;
            background: rgba(255, 255, 255, 0.05);
            margin: 16px 0;
        }

        /* ========== æ’åç½‘æ ¼ ========== */
        .rank-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }

        .rank-box {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 14px;
            padding: 12px;
            text-align: center;
        }

        .rank-box-label {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 6px;
        }

        .rank-box-value {
            font-size: 18px;
            font-weight: 800;
            background: linear-gradient(135deg, #fb923c 0%, #f59e0b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* ========== å±‚çº§å¡ç‰‡ ========== */
        .layer-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
        }

        .layer-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .layer-name {
            font-size: 15px;
            font-weight: 700;
            color: #fff;
        }

        .layer-status-badge {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 11px;
            font-weight: 600;
        }

        .layer-status-text {
            color: rgba(255, 255, 255, 0.7);
        }

        .layer-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 700;
        }

        .badge-layer1 { background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%); color: #000; }
        .badge-layer2 { background: linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%); color: #000; }
        .badge-layer3 { background: linear-gradient(135deg, #cd7f32 0%, #e6a859 100%); color: #000; }
        .badge-layer4 { background: linear-gradient(135deg, #a855f7 0%, #c084fc 100%); color: #fff; }
        .badge-layer5 { background: linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%); color: #fff; }
        .badge-layer6 { background: linear-gradient(135deg, #10b981 0%, #34d399 100%); color: #fff; }

        .layer-threshold {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
        }

        .threshold-label {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 500;
        }

        .threshold-value {
            font-size: 18px;
            font-weight: 800;
            background: linear-gradient(135deg, #fb923c 0%, #f59e0b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* æ™‹çº§é—¨æ§›æ•°å­—æ ·å¼ */
        .threshold-value .num-integer {
            font-weight: 800;
        }

        .threshold-value .num-decimal {
            font-size: 15px;
            font-weight: 400;
            background: linear-gradient(135deg, #fb923c 0%, #f59e0b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            opacity: 0.8;
        }

        /* ========== Tabåˆ‡æ¢ï¼ˆé¦–é¡µé£æ ¼ï¼‰ ========== */
        .tab-group {
            display: flex;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 14px;
            padding: 4px;
            margin-bottom: 18px;
        }

        .tab-btn {
            flex: 1;
            padding: 12px;
            border: none;
            background: transparent;
            color: rgba(255, 255, 255, 0.5);
            font-size: 14px;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .tab-btn.active {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.3) 0%, rgba(217, 70, 239, 0.3) 100%);
            color: #fff;
            border: 1px solid rgba(168, 85, 247, 0.5);
            box-shadow: 0 2px 10px rgba(168, 85, 247, 0.3);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* ========== æ’è¡Œæ¦œåˆ—è¡¨ ========== */
        .rank-list {
            max-height: 600px;
            overflow-y: auto;
        }

        .rank-list::-webkit-scrollbar {
            width: 6px;
        }

        .rank-list::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 3px;
        }

        .rank-list::-webkit-scrollbar-thumb {
            background: rgba(168, 85, 247, 0.3);
            border-radius: 3px;
        }

        .rank-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 14px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .rank-number {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(168, 85, 247, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 700;
            color: #fff;
            flex-shrink: 0;
        }

        .rank-top1 {
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
            color: #000;
        }

        .rank-top2 {
            background: linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%);
            color: #000;
        }

        .rank-top3 {
            background: linear-gradient(135deg, #cd7f32 0%, #e6a859 100%);
            color: #000;
        }

        .rank-address {
            flex: 1;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            color: rgba(255, 255, 255, 0.8);
        }

        .rank-value {
            font-size: 15px;
            font-weight: 700;
            background: linear-gradient(135deg, #fb923c 0%, #f59e0b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* æ’è¡Œæ¦œæ•°å­—å°æ•°éƒ¨åˆ† */
        .rank-value .num-decimal {
            background: linear-gradient(135deg, #fb923c 0%, #f59e0b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            opacity: 0.8;
        }

        /* ========== åŠ è½½æ›´å¤šæŒ‰é’® ========== */
        .load-more-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.2) 0%, rgba(217, 70, 239, 0.2) 100%);
            border: 1px solid rgba(168, 85, 247, 0.4);
            border-radius: 12px;
            color: #a855f7;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 12px;
        }

        .load-more-btn:active {
            transform: scale(0.98);
        }

        .load-more-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* ========== è¿›åº¦æ¡ ========== */
        /* ========== ç©ºçŠ¶æ€ ========== */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: rgba(255, 255, 255, 0.5);
        }

        .empty-icon {
            font-size: 48px;
            margin-bottom: 12px;
            opacity: 0.5;
        }

        .empty-text {
            font-size: 14px;
        }

        /* ========== åº•éƒ¨å¯¼èˆª ========== */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(10, 5, 32, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(168, 85, 247, 0.2);
            padding: 10px 0;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            color: rgba(255, 255, 255, 0.5);
            font-size: 11px;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.3s;
            padding: 8px 0;
        }

        .nav-item.active {
            color: #fb923c;
        }

        .nav-icon {
            font-size: 22px;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯ -->
    <div class="bg-gradient"></div>
    <div class="bg-stars"></div>

    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <div class="top-bar">
        <div class="nav-left">
            <button class="back-btn" onclick="goBack()">â†</button>
            <div class="page-title">ğŸ“Š æ•°æ®ä¸­å¿ƒ</div>
        </div>
        <button class="refresh-btn" onclick="refreshData()">
            <span class="refresh-icon" id="refreshIcon">ğŸ”„</span>
            åˆ·æ–°
        </button>
    </div>

    <!-- ä¸»å®¹å™¨ -->
    <div class="container">
        
        <!-- getGlobalStatsï¼šå…¨ç½‘ç»Ÿè®¡ï¼ˆç½®é¡¶ï¼‰ -->
        <div class="data-card">
            <div class="card-content">
                <div class="section-title">
                    <span>ğŸŒ</span>
                    å…¨ç½‘ç»Ÿè®¡
                </div>
                
                <div class="stat-row">
                    <div class="stat-label">å…±æŒ¯äººæ•°</div>
                    <div class="stat-value stat-orange" id="globalUsers">0</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">ç¤¾åŒºæ€»æ•°</div>
                    <div class="stat-value stat-purple" id="globalCommunities">0</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">å…¨ç½‘é“¸é€  Vollar</div>
                    <div class="stat-value stat-orange" id="globalMinted">0</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">å…¨ç½‘å…±æŒ¯ VID</div>
                    <div class="stat-value" id="globalVID">0</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">å…¨ç½‘å…±æŒ¯ USDT</div>
                    <div class="stat-value" id="globalUSDT">0</div>
                </div>
                
                <div class="stat-row">
                    <div class="stat-label">å½“å‰è½¬è´¦ç¨ç‡</div>
                    <div class="stat-value" id="tokenTax">0%</div>
                </div>
                
                <div class="stat-row">
                    <div class="stat-label">å½“å‰ç”Ÿæ¯åˆ©ç‡</div>
                    <div class="stat-value" id="interestRate">0%</div>
                </div>
                
                <div class="stat-row">
                    <div class="stat-label">åˆçº¦è¿è¡Œæ—¶é—´</div>
                    <div class="stat-value" id="contractRuntime">0å¤© 0æ—¶ 0åˆ† 0ç§’</div>
                </div>
            </div>
        </div>

        <!-- getUserInfoï¼šä¸ªäººæ•°æ®ç»Ÿè®¡ -->
        <div class="data-card">
            <div class="card-content">
                <div class="section-title">
                    <span>ğŸ“ˆ</span>
                    æˆ‘çš„æ•°æ®
                </div>
                
                <div class="stat-row">
                    <div class="stat-label">æ€»é“¸é€  Vollar</div>
                    <div class="stat-value stat-orange" id="totalMinted">0</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">â”œâ”€ VID å…±æŒ¯</div>
                    <div class="stat-value" id="vollarFromVID">0</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">â”œâ”€ USDT å…±æŒ¯</div>
                    <div class="stat-value" id="vollarFromUSDT">0</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">â”œâ”€ æŒå¸ç”Ÿæ¯</div>
                    <div class="stat-value" id="vollarFromInterest">0</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">â””â”€ ç¤¾åŒºè¡¥è´´</div>
                    <div class="stat-value stat-purple" id="communitySubsidy">0</div>
                </div>
                
                <div class="divider"></div>
                
                <div class="stat-row">
                    <div class="stat-label">å…±æŒ¯ VID æ€»é¢</div>
                    <div class="stat-value" id="vidResonance">0</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">å…±æŒ¯ USDT æ€»é¢</div>
                    <div class="stat-value" id="usdtResonance">0</div>
                </div>
                
                <div class="divider"></div>
                
                <div class="stat-row">
                    <div class="stat-label">æ™®é€šæ¨èå¥–åŠ±</div>
                    <div class="stat-value stat-orange" id="refRewards">0</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">ç¤¾åŒºæ¨èå¥–åŠ±</div>
                    <div class="stat-value stat-purple" id="communityRewards">0</div>
                </div>
                
                <div class="divider"></div>
                
                <div class="stat-row">
                    <div class="stat-label">å…‘æ¢é”€æ¯ Vollar</div>
                    <div class="stat-value stat-orange" id="burnedVollar">0</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">â”œâ”€ å…‘æ¢ BNB</div>
                    <div class="stat-value" id="exchangedBNB">0</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">â”œâ”€ å…‘æ¢ USDT</div>
                    <div class="stat-value" id="exchangedUSDT">0</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">â””â”€ å…‘æ¢ VID</div>
                    <div class="stat-value" id="exchangedVID">0</div>
                </div>
                
                <div class="divider"></div>
                
                <div class="stat-row">
                    <div class="stat-label">USDT å…‘æ¢ VID</div>
                    <div class="stat-value" id="usdtForVID">0</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">è·å¾— VID</div>
                    <div class="stat-value" id="getTotalVID">0</div>
                </div>
            </div>
        </div>

        <!-- getUserRefInterestStatusï¼šæ¨èå›¢é˜Ÿï¼ˆæ‰€æœ‰ç”¨æˆ·ï¼‰ -->
        <div class="data-card">
            <div class="card-content">
                <div class="section-title">
                    <span>ğŸ‘¥</span>
                    æˆ‘çš„å›¢é˜Ÿ
                    <span class="section-badge" id="teamBadge">åŠ è½½ä¸­...</span>
                </div>
                
                <div class="stat-row">
                    <div class="stat-label">æˆ‘çš„æ¨èäºº</div>
                    <div class="stat-value" id="myReferrer" style="font-size: 13px; font-family: 'Courier New', monospace;">-</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">æ¨èç¤¾åŒº</div>
                    <div class="stat-value" id="myReferrerCommunity" style="font-size: 13px; font-family: 'Courier New', monospace;">-</div>
                </div>
                
                <div class="divider"></div>
                
                <div class="stat-row">
                    <div class="stat-label">ä¸€çº§å›¢é˜Ÿäººæ•°</div>
                    <div class="stat-value stat-orange" id="totalFirstLevel">0</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">â”œâ”€ å·²å¼€å¯ç”Ÿæ¯</div>
                    <div class="stat-value stat-green" id="activeInterest">0</div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">â””â”€ æœªå¼€å¯ç”Ÿæ¯</div>
                    <div class="stat-value" id="inactiveInterest">0</div>
                </div>
            </div>
        </div>

        <!-- getUserRankingInfoï¼šæˆ‘çš„ç¤¾åŒºæ’åï¼ˆä¸‰ç§çŠ¶æ€ï¼‰ -->
        <div class="data-card" id="rankingCard">
            <div class="card-content">
                <div class="section-title">
                    <span>ğŸ†</span>
                    æˆ‘çš„ç¤¾åŒºæ’å
                    <span class="section-badge" id="rankingBadge">åŠ è½½ä¸­...</span>
                </div>
                
                <!-- çŠ¶æ€A: éç¤¾åŒºæˆå‘˜ -->
                <div id="rankingStateA" style="display: none;">
                    <div style="text-align: center; padding: 20px 0;">
                        <div style="font-size: 14px; color: rgba(255, 255, 255, 0.6); margin-bottom: 16px;">
                            ğŸ’¡ æˆä¸ºç¤¾åŒºæ¡ä»¶
                        </div>
                        <div style="font-size: 16px; font-weight: 700; color: #fff; margin-bottom: 4px;">
                            å•æ¬¡å…±æŒ¯é“¸é€ è·å¾—
                        </div>
                        <div style="font-size: 24px; font-weight: 800; margin-bottom: 20px;">
                            <span class="stat-orange" id="communityFee">0</span> Vollar
                        </div>
                        <div style="font-size: 13px; color: rgba(255, 255, 255, 0.5); line-height: 1.6; padding: 0 10px;">
                            ä½¿ç”¨VIDå…±æŒ¯ä¸€æ¬¡æ€§é“¸é€ è¶³å¤Ÿçš„Vollarå³å¯æˆä¸ºç¤¾åŒº
                        </div>
                    </div>
                </div>

                <!-- çŠ¶æ€B: ç¤¾åŒºæˆå‘˜ä½†æœªå…¥æ¦œ -->
                <div id="rankingStateB" style="display: none;">
                    <div class="stat-row">
                        <div class="stat-label">å½“å‰ä¸šç»©</div>
                        <div class="stat-value stat-orange" id="myPerformanceB">0</div>
                    </div>
                    <div class="stat-row">
                        <div class="stat-label">å…¥æ¦œé—¨æ§›</div>
                        <div class="stat-value stat-purple" id="top1000Threshold">0</div>
                    </div>
                    <div class="stat-row">
                        <div class="stat-label">è·ç¦»å…¥æ¦œ</div>
                        <div class="stat-value" id="gapToRanked">0</div>
                    </div>
                    <div style="margin-top: 16px; padding: 12px; background: rgba(251, 191, 36, 0.1); border-radius: 12px; border: 1px solid rgba(251, 191, 36, 0.2);">
                        <div style="font-size: 13px; color: rgba(251, 191, 36, 0.9); text-align: center;">
                            ğŸ’¡ ç»§ç»­å…±æŒ¯æå‡ä¸šç»©å¯å…¥æ¦œå‰1000å
                        </div>
                    </div>
                </div>

                <!-- çŠ¶æ€C: å·²å…¥æ¦œç¤¾åŒº -->
                <div id="rankingStateC" style="display: none;">
                    <div class="rank-grid">
                        <div class="rank-box">
                            <div class="rank-box-label">å…¨çƒæ’å</div>
                            <div class="rank-box-value" id="globalRank">-</div>
                        </div>
                        <div class="rank-box">
                            <div class="rank-box-label">å±‚å†…æ’å</div>
                            <div class="rank-box-value" id="layerRank">-</div>
                        </div>
                        <div class="rank-box">
                            <div class="rank-box-label">å…‘æ¢å€ç‡</div>
                            <div class="rank-box-value" id="exchangeRate">0x</div>
                        </div>
                    </div>
                    
                    <div class="stat-row">
                        <div class="stat-label">æ‰€åœ¨å±‚çº§</div>
                        <div class="stat-value">
                            <span class="layer-badge" id="layerBadge">-</span>
                        </div>
                    </div>
                    <div class="stat-row">
                        <div class="stat-label">å½“å‰ä¸šç»©</div>
                        <div class="stat-value stat-orange" id="myPerformanceC">0</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- getGlobalRankingInfo + getLayerPerformanceRankingï¼šç¤¾åŒºæ’åçŠ¶æ€ -->
        <div class="data-card">
            <div class="card-content">
                <div class="section-title">
                    <span>ğŸ¯</span>
                    ç¤¾åŒºæ’åçŠ¶æ€
                    <span class="section-badge" id="rankedCount">0/1000</span>
                </div>
                
                <div id="layersContainer">
                    <!-- åŠ¨æ€ç”Ÿæˆ6ä¸ªå±‚çº§å¡ç‰‡ -->
                </div>
            </div>
        </div>

        <!-- getCommunityDataï¼šç¤¾åŒºæ’è¡Œæ¦œï¼ˆæ‰€æœ‰ç”¨æˆ·å…³æ³¨ï¼‰ -->
        <div class="data-card">
            <div class="card-content">
                <div class="section-title">
                    <span>ğŸ“Š</span>
                    ç¤¾åŒºæ’è¡Œæ¦œ
                </div>
                
                <div class="tab-group">
                    <button class="tab-btn active" onclick="switchTab('performance')">ä¸šç»©æ’è¡Œ</button>
                    <button class="tab-btn" onclick="switchTab('minting')">é“¸é€ å¥–åŠ±</button>
                    <button class="tab-btn" onclick="switchTab('referral')">æ¨èå¥–åŠ±</button>
                </div>

                <div class="tab-content active" id="performance">
                    <div class="rank-list">
                        <div class="empty-state">
                            <div class="empty-icon">ğŸ“Š</div>
                            <div class="empty-text">æ­£åœ¨åŠ è½½...</div>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="minting">
                    <div class="rank-list">
                        <div class="empty-state">
                            <div class="empty-icon">ğŸ’°</div>
                            <div class="empty-text">æ­£åœ¨åŠ è½½...</div>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="referral">
                    <div class="rank-list">
                        <div class="empty-state">
                            <div class="empty-icon">ğŸ</div>
                            <div class="empty-text">æ­£åœ¨åŠ è½½...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- åº•éƒ¨å¯¼èˆª -->
    <div class="bottom-nav">
        <a href="index.html" class="nav-item">
            <div class="nav-icon">ğŸ </div>
            <div>é¦–é¡µ</div>
        </a>
        <a href="data.html" class="nav-item active">
            <div class="nav-icon">ğŸ“Š</div>
            <div>æ•°æ®</div>
        </a>
        <a href="exchange.html" class="nav-item">
            <div class="nav-icon">ğŸ’±</div>
            <div>å…‘æ¢</div>
        </a>
        <a href="temple.html" class="nav-item">
            <div class="nav-icon">ğŸ›ï¸</div>
            <div>åœ£æ®¿</div>
        </a>
    </div>

    <script>
        // ========== åˆçº¦é…ç½® ==========
        const CONTRACT_ADDRESS = '0x22f457Ed9c3Ed8BB84d4796d601C23E69F715970';

        // ========== æ¨¡æ‹Ÿæ•°æ® ==========
        const mockData = {
            userInfo: {
                totalMintedVollar: 1234567890000,
                vollarFromVID: 1111100000000,
                vollarFromUSDT: 100000000000,
                personalHoldingInterest: 23467890000,
                communitySubsidyMint: 900000000,
                vidResonanceAmount: 100000000,
                usdtResonanceAmount: 100000000000000000000,
                vidRewardsFromRef: 5000000,
                vidRewardsFromCommunity: 3000000,
                usdtForVIDAmount: 500000000000000000000,
                getTotalVID: 50000000,
                exchangedBNB: 1000000000000000000,
                exchangedUSDT: 10000000000000000000,
                exchangedVID: 1000000,
                exchangedBurnedVollar: 100000000000
            },
            refStatus: {
                myReferrer: '0x1234567890123456789012345678901234567890',
                myReferrerCommunity: '0xabcdefabcdefabcdefabcdefabcdefabcdefabcd',
                totalFirstLevelMembers: 10,
                activeInterestCount: 6
            },
            // æµ‹è¯•ä¸‰ç§çŠ¶æ€ï¼Œä¿®æ”¹æ­¤å¤„åˆ‡æ¢çŠ¶æ€æ¼”ç¤º
            ranking: {
                // çŠ¶æ€C: å·²å…¥æ¦œç¤¾åŒº
                isCommunity: true,
                isRanked: true,
                globalRank: 25,
                layer: 2,
                performance: 5000000000000,
                rankInLayer: 5,
                layerTotal: 20,
                exchangeRate: 100
                
                // çŠ¶æ€B: ç¤¾åŒºä½†æœªå…¥æ¦œ - å–æ¶ˆæ³¨é‡Šæµ‹è¯•
                // isCommunity: true,
                // isRanked: false,
                // performance: 5000000000,
                // layer: 0,
                // globalRank: 0,
                // rankInLayer: 0,
                // layerTotal: 0,
                // exchangeRate: 0
                
                // çŠ¶æ€A: éç¤¾åŒº - å–æ¶ˆæ³¨é‡Šæµ‹è¯•
                // isCommunity: false,
                // isRanked: false,
                // performance: 0,
                // layer: 0,
                // globalRank: 0,
                // rankInLayer: 0,
                // layerTotal: 0,
                // exchangeRate: 0
            },
            globalStats: {
                userCount: 12345,
                startTimer: 1702800000, // 2023-12-17 12:00:00 UTC (æ¨¡æ‹Ÿåˆçº¦éƒ¨ç½²æ—¶é—´)
                allTotalAmount: 10000000000000000,
                allTotalVIDResonance: 100000000000,
                allTotalUSDTResonance: 10000000000000000000000,
                totalRedeemedVID: 5000000000,
                allUSDTWithdrawn: 1000000000000000000000
            },
            globalRanking: {
                totalGlobalCommunities: 350,
                totalRankedCommunities: 300,
                communityMintingFee: 5000000000, // å½“å‰æˆä¸ºç¤¾åŒºæ‰€éœ€
                layerSizes: [10, 20, 70, 200, 0, 0],
                layerCapacities: [10, 20, 70, 200, 300, 400],
                thresholds: [500000000000, 200000000000, 100000000000, 50000000000, 20000000000, 10000000000],
                topPerformances: [1000000000000, 800000000000, 600000000000, 400000000000, 0, 0],
                minPerformances: [500000000000, 200000000000, 100000000000, 50000000000, 0, 0]
            }
        };

        // ========== å·¥å…·å‡½æ•° ==========
        // å®Œæ•´æ˜¾ç¤ºæ•°å­—ï¼ˆå¸¦åƒåˆ†ä½ï¼Œä¿ç•™2ä½å°æ•°ï¼Œå°æ•°éƒ¨åˆ†ç»†å­—ä½“ï¼‰
        function formatNumberFull(num, decimals = 6) {
            if (decimals === 0) {
                return Math.floor(num).toLocaleString();
            }
            const actual = num / Math.pow(10, decimals);
            const parts = actual.toFixed(2).split('.');
            parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            
            // è¿”å›HTMLæ ¼å¼ï¼šæ•´æ•°éƒ¨åˆ†æ­£å¸¸ï¼Œå°æ•°éƒ¨åˆ†ç»†ä½“å°å·
            return `<span class="num-integer">${parts[0]}</span><span class="num-decimal">.${parts[1]}</span>`;
        }

        // ç®€åŒ–æ˜¾ç¤ºï¼ˆK/Mæ ¼å¼ï¼‰
        function formatNumberShort(num, decimals = 6) {
            const actual = num / Math.pow(10, decimals);
            if (actual >= 1000000) {
                const value = (actual / 1000000).toFixed(2);
                const parts = value.split('.');
                return `<span class="num-integer">${parts[0]}</span><span class="num-decimal">.${parts[1]}</span>M`;
            }
            if (actual >= 1000) {
                const value = (actual / 1000).toFixed(2);
                const parts = value.split('.');
                return `<span class="num-integer">${parts[0]}</span><span class="num-decimal">.${parts[1]}</span>K`;
            }
            const value = actual.toFixed(2);
            const parts = value.split('.');
            return `<span class="num-integer">${parts[0]}</span><span class="num-decimal">.${parts[1]}</span>`;
        }

        // æ™ºèƒ½æ˜¾ç¤ºï¼ˆä¼˜å…ˆå®Œæ•´ï¼Œæ£€æµ‹é•¿åº¦è‡ªåŠ¨é™çº§ï¼‰
        function formatNumber(num, decimals = 6, maxLength = 20) {
            const actual = num / Math.pow(10, decimals);
            const plainValue = actual.toFixed(2);
            const parts = plainValue.split('.');
            parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            const fullText = parts.join('.');
            
            // å¦‚æœå­—ç¬¦ä¸²é•¿åº¦è¶…è¿‡é™åˆ¶ï¼Œä½¿ç”¨ç®€åŒ–æ ¼å¼
            if (fullText.length > maxLength) {
                return formatNumberShort(num, decimals);
            }
            return formatNumberFull(num, decimals);
        }

        function formatAddress(addr) {
            if (!addr || addr === '0x0000000000000000000000000000000000000000') return '-';
            return addr.slice(0, 6) + '...' + addr.slice(-4);
        }

        // ========== åŠ è½½æ•°æ® ==========
        async function loadData() {
            // TODO: è°ƒç”¨åˆçº¦
            // const userInfo = await contract.getUserInfo();
            // const refStatus = await contract.getUserRefInterestStatus();
            // const ranking = await contract.getUserRankingInfo();
            // const globalStats = await contract.getGlobalStats();
            // const globalRanking = await contract.getGlobalRankingInfo();

            const { userInfo, refStatus, ranking, globalStats, globalRanking } = mockData;

            // å…¨ç½‘ç»Ÿè®¡ï¼ˆç½®é¡¶ï¼‰
            document.getElementById('globalUsers').textContent = globalStats.userCount.toLocaleString();
            document.getElementById('globalCommunities').textContent = globalRanking.totalGlobalCommunities;
            document.getElementById('globalMinted').innerHTML = formatNumber(globalStats.allTotalAmount, 6);
            document.getElementById('globalVID').innerHTML = formatNumber(globalStats.allTotalVIDResonance, 6) + ' VID';
            document.getElementById('globalUSDT').innerHTML = formatNumber(globalStats.allTotalUSDTResonance, 18) + ' USDT';

            // å¯åŠ¨è¿è¡Œæ—¶é—´è®¡æ—¶å™¨
            updateContractRuntime(globalStats.startTimer);

            // è½¬è´¦ç¨ç‡å’Œç”Ÿæ¯åˆ©ç‡ï¼ˆä»getRateStatsè·å–ï¼‰
            // TODO: const rateStats = await contract.getRateStats();
            const mockRateStats = {
                tokenTax: 50,      // 0.50% (50/10000)
                interestRate: 1000  // 10.00% (1000/10000)
            };
            document.getElementById('tokenTax').textContent = (mockRateStats.tokenTax / 100).toFixed(2) + '%';
            document.getElementById('interestRate').textContent = (mockRateStats.interestRate / 100).toFixed(2) + '%';

            // ä¸ªäººæ•°æ®
            document.getElementById('totalMinted').innerHTML = formatNumber(userInfo.totalMintedVollar, 6);
            document.getElementById('vollarFromVID').innerHTML = formatNumber(userInfo.vollarFromVID, 6);
            document.getElementById('vollarFromUSDT').innerHTML = formatNumber(userInfo.vollarFromUSDT, 6);
            document.getElementById('vollarFromInterest').innerHTML = formatNumber(userInfo.personalHoldingInterest, 6);
            document.getElementById('communitySubsidy').innerHTML = formatNumber(userInfo.communitySubsidyMint, 6);
            document.getElementById('vidResonance').innerHTML = formatNumber(userInfo.vidResonanceAmount, 6) + ' VID';
            document.getElementById('usdtResonance').innerHTML = formatNumber(userInfo.usdtResonanceAmount, 18) + ' USDT';
            document.getElementById('refRewards').innerHTML = formatNumber(userInfo.vidRewardsFromRef, 6) + ' VID';
            document.getElementById('communityRewards').innerHTML = formatNumber(userInfo.vidRewardsFromCommunity, 6) + ' VID';
            document.getElementById('burnedVollar').innerHTML = formatNumber(userInfo.exchangedBurnedVollar, 6);
            document.getElementById('exchangedBNB').innerHTML = formatNumber(userInfo.exchangedBNB, 18) + ' BNB';
            document.getElementById('exchangedUSDT').innerHTML = formatNumber(userInfo.exchangedUSDT, 18) + ' USDT';
            document.getElementById('exchangedVID').innerHTML = formatNumber(userInfo.exchangedVID, 6) + ' VID';
            document.getElementById('usdtForVID').innerHTML = formatNumber(userInfo.usdtForVIDAmount, 18) + ' USDT';
            document.getElementById('getTotalVID').innerHTML = formatNumber(userInfo.getTotalVID, 6) + ' VID';

            // å›¢é˜ŸçŠ¶æ€
            document.getElementById('myReferrer').textContent = formatAddress(refStatus.myReferrer);
            document.getElementById('myReferrerCommunity').textContent = formatAddress(refStatus.myReferrerCommunity);
            document.getElementById('totalFirstLevel').textContent = refStatus.totalFirstLevelMembers;
            document.getElementById('activeInterest').textContent = refStatus.activeInterestCount;
            document.getElementById('inactiveInterest').textContent = refStatus.totalFirstLevelMembers - refStatus.activeInterestCount;
            document.getElementById('teamBadge').textContent = refStatus.activeInterestCount + '/' + refStatus.totalFirstLevelMembers + ' ç”Ÿæ¯';

            // æˆ‘çš„ç¤¾åŒºæ’åï¼ˆä¸‰ç§çŠ¶æ€ï¼‰
            displayRankingState(ranking, globalRanking);

            // å±‚çº§çŠ¶æ€
            document.getElementById('rankedCount').textContent = globalRanking.totalRankedCommunities + '/1000';
            loadLayersInfo();

            // æ’è¡Œæ¦œ
            loadLeaderboard('performance');
        }

        // ========== åˆçº¦è¿è¡Œæ—¶é—´è®¡ç®— ==========
        let runtimeInterval = null;

        function updateContractRuntime(startTimestamp) {
            // startTimestamp æ¥è‡ª globalStats.startTimer (åˆçº¦éƒ¨ç½²æ—¶é—´)
            
            function update() {
                const now = Math.floor(Date.now() / 1000); // å½“å‰æ—¶é—´æˆ³ï¼ˆç§’ï¼‰
                const elapsed = now - startTimestamp; // è¿è¡Œç§’æ•°
                
                const days = Math.floor(elapsed / 86400);
                const hours = Math.floor((elapsed % 86400) / 3600);
                const minutes = Math.floor((elapsed % 3600) / 60);
                const seconds = elapsed % 60;
                
                document.getElementById('contractRuntime').textContent = 
                    `${days}å¤© ${hours}æ—¶ ${minutes}åˆ† ${seconds}ç§’`;
            }
            
            // ç«‹å³æ›´æ–°ä¸€æ¬¡
            update();
            
            // æ¸…é™¤æ—§çš„å®šæ—¶å™¨
            if (runtimeInterval) {
                clearInterval(runtimeInterval);
            }
            
            // æ¯ç§’æ›´æ–°
            runtimeInterval = setInterval(update, 1000);
        }

        // ========== æ˜¾ç¤ºæ’åçŠ¶æ€ ==========
        function displayRankingState(ranking, globalRanking) {
            const stateA = document.getElementById('rankingStateA');
            const stateB = document.getElementById('rankingStateB');
            const stateC = document.getElementById('rankingStateC');
            const badge = document.getElementById('rankingBadge');

            // éšè—æ‰€æœ‰çŠ¶æ€
            stateA.style.display = 'none';
            stateB.style.display = 'none';
            stateC.style.display = 'none';

            if (!ranking.isCommunity) {
                // çŠ¶æ€A: éç¤¾åŒºæˆå‘˜
                badge.textContent = 'æœªæˆä¸ºç¤¾åŒº';
                document.getElementById('communityFee').innerHTML = formatNumberFull(globalRanking.communityMintingFee, 6);
                stateA.style.display = 'block';
            } else if (!ranking.isRanked) {
                // çŠ¶æ€B: ç¤¾åŒºæˆå‘˜ä½†æœªå…¥æ¦œ
                badge.textContent = 'ç¤¾åŒºæˆå‘˜ Â· æœªå…¥æ¦œ';
                const myPerf = ranking.performance;
                const threshold = globalRanking.thresholds[5]; // Top 1000é—¨æ§›
                const gap = threshold > myPerf ? threshold - myPerf : 0;
                
                document.getElementById('myPerformanceB').innerHTML = formatNumber(myPerf, 6);
                document.getElementById('top1000Threshold').innerHTML = formatNumber(threshold, 6);
                document.getElementById('gapToRanked').innerHTML = formatNumber(gap, 6);
                stateB.style.display = 'block';
            } else {
                // çŠ¶æ€C: å·²å…¥æ¦œç¤¾åŒº
                badge.textContent = 'ç¤¾åŒºæˆå‘˜ Â· å·²å…¥æ¦œ';
                document.getElementById('globalRank').textContent = '#' + ranking.globalRank;
                document.getElementById('layerRank').textContent = ranking.rankInLayer + '/' + ranking.layerTotal;
                document.getElementById('exchangeRate').textContent = ranking.exchangeRate + 'x';
                document.getElementById('myPerformanceC').innerHTML = formatNumber(ranking.performance, 6);
                
                const layerNames = ['', 'Top 10', 'Top 30', 'Top 100', 'Top 300', 'Top 600', 'Top 1000'];
                const layerBadge = document.getElementById('layerBadge');
                layerBadge.textContent = layerNames[ranking.layer];
                layerBadge.className = 'layer-badge badge-layer' + ranking.layer;
                stateC.style.display = 'block';
            }
        }

        // ========== åŠ è½½å±‚çº§ä¿¡æ¯ ==========
        function loadLayersInfo() {
            const container = document.getElementById('layersContainer');
            container.innerHTML = '';

            const layerNames = ['Top 10', 'Top 30', 'Top 100', 'Top 300', 'Top 600', 'Top 1000'];
            const { layerSizes, layerCapacities, thresholds } = mockData.globalRanking;
            
            for (let i = 0; i < 6; i++) {
                const layer = i + 1;
                const isFull = layerSizes[i] >= layerCapacities[i];
                const statusText = isFull ? 'å·²æ»¡å‘˜' : 'æœªæ»¡å‘˜';
                
                const card = document.createElement('div');
                card.className = 'layer-card';
                
                card.innerHTML = `
                    <div class="layer-header">
                        <div class="layer-name">${layerNames[i]}</div>
                        <div class="layer-status-badge">
                            <span class="layer-status-text">${statusText}</span>
                            <span class="layer-badge badge-layer${layer}">${layerSizes[i]}/${layerCapacities[i]}</span>
                        </div>
                    </div>
                    <div class="layer-threshold">
                        <span class="threshold-label">æ™‹çº§é—¨æ§›</span>
                        <span class="threshold-value">${formatNumberFull(thresholds[i], 6)} Vollar</span>
                    </div>
                `;
                
                container.appendChild(card);
            }
        }

        // ========== åŠ è½½ç¤¾åŒºæ’è¡Œæ¦œ ==========
        let currentPage = { performance: 0, minting: 0, referral: 0 };
        const PAGE_SIZE = 300; // æ¯é¡µ300æ¡

        async function loadLeaderboard(type) {
            const container = document.querySelector(`#${type} .rank-list`);
            
            // TODO: è°ƒç”¨åˆçº¦
            // const totalCommunities = await contract.getMemberCount();
            // const dataType = type === 'performance' ? 1 : type === 'minting' ? 2 : 3;
            // const start = currentPage[type] * PAGE_SIZE;
            // const end = Math.min(start + PAGE_SIZE, totalCommunities); // é˜²æ­¢è¶…å‡º
            // const data = await contract.getCommunityData(dataType, start, end);
            
            // æ¨¡æ‹Ÿæ•°æ®
            const totalCommunities = 350;
            const start = currentPage[type] * PAGE_SIZE;
            const end = Math.min(start + PAGE_SIZE, totalCommunities);
            const count = end - start;
            
            if (count === 0) {
                container.innerHTML = '<div class="empty-state"><div class="empty-icon">ğŸ“Š</div><div class="empty-text">æš‚æ— æ›´å¤šæ•°æ®</div></div>';
                return;
            }
            
            if (currentPage[type] === 0) {
                container.innerHTML = '';
            }
            
            for (let i = 0; i < count; i++) {
                const rank = start + i + 1;
                const item = createRankItem(rank, `0x${'1234'.repeat(10)}`, (1000000 - rank * 1000) * 1e6, type);
                container.appendChild(item);
            }
            
            // åŠ è½½æ›´å¤šæŒ‰é’®
            if (end < totalCommunities) {
                const btn = document.createElement('button');
                btn.className = 'load-more-btn';
                btn.textContent = 'åŠ è½½æ›´å¤š (' + (totalCommunities - end) + ' æ¡)';
                btn.onclick = () => {
                    currentPage[type]++;
                    btn.remove();
                    loadLeaderboard(type);
                };
                container.appendChild(btn);
            }
        }

        function createRankItem(rank, address, value, type) {
            const item = document.createElement('div');
            item.className = 'rank-item';
            
            const num = document.createElement('div');
            num.className = 'rank-number';
            if (rank === 1) num.classList.add('rank-top1');
            else if (rank === 2) num.classList.add('rank-top2');
            else if (rank === 3) num.classList.add('rank-top3');
            num.textContent = rank;
            
            const addr = document.createElement('div');
            addr.className = 'rank-address';
            addr.textContent = formatAddress(address);
            
            const val = document.createElement('div');
            val.className = 'rank-value';
            val.innerHTML = formatNumber(value, 6) + (type === 'referral' ? ' VID' : '');
            
            item.appendChild(num);
            item.appendChild(addr);
            item.appendChild(val);
            
            return item;
        }

        // ========== Tabåˆ‡æ¢ ==========
        function switchTab(type) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.getElementById(type).classList.add('active');

            if (currentPage[type] === 0) {
                loadLeaderboard(type);
            }
        }

        // ========== åˆ·æ–° ==========
        function refreshData() {
            const icon = document.getElementById('refreshIcon');
            icon.classList.add('spinning');
            setTimeout(() => {
                icon.classList.remove('spinning');
                loadData();
            }, 500);
        }

        // ========== è¿”å› ==========
        function goBack() {
            window.history.back();
        }

        // ========== åˆå§‹åŒ– ==========
        window.onload = loadData;
    </script>
</body>
</html>
